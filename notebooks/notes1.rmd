---
title: "R Notebook"
output: html_notebook
---



# Making a shape from a gene

OK, let's develop a gene, following the paper. First thing we'll do is make a shape from a single expression of it. 

There is much unsaid in the paper. I'm presuming that the position is updated as the seed grows. It is unclear where the position ends up as the tabletop grows at the moment. But the best way to figure it out is to try it!

# Making the first shape

Here, we interpret a single gene and build the stl file to represent the shape



```{r}
source("../shapevol1/R/sgene.R")
source("../shapevol1/R/genetostl.R")
gene3 <- sgene("DirectionZ",          1,status = T,start=0.0,stop=1.5,dom=1)
gene4 <- sgene("Cross section","Square",status = T,start=0.0,stop=1.5,dom=1)
gene5 <- sgene("Length",            0.5,status = T,start=0.0,stop=1.5,dom=1)
gene6 <- sgene("Diameter",          0.2,status = T,start=0.0,stop=1.5,dom=1)

group1 <- rbind(gene3,gene4,gene5,gene6)

genetostlfile("~/Desktop/stl/gene1.stl",group1,runlim=1)

```

The STL file can be loaded into blender to give the following shape:

![alt text](blender_gene1.png "Logo Title Text 1")

Note that we aren't spending too much time on getting things like wall thickness right here because we are mainly interested in exploring how these seed grammars work under evolution. What's missing from the above is the iterative interpretation of the seed gene. Let's look at how this works:

1. The current shape is interpreted from the status,start,stop and dominance components of each gene, and the current position of the growth.
2. If a shape is available
    1. The shape is rendered (or "grown")
    2. The position is updated
    3. Return to the top of the loop
3. Otherwise terminate    
    

## Growing seed 2
```{r}
source("../shapevol1/R/sgene.R")
source("../shapevol1/R/genetostl.R")
gene1 <- sgene("DirectionX",          0,status = T,start=0.0,stop=1.5,dom=1)
gene2 <- sgene("DirectionY",          0,status = T,start=0.0,stop=1.5,dom=1)
gene3 <- sgene("DirectionZ",          1,status = T,start=0.0,stop=1.5,dom=1)
gene4 <- sgene("Cross section","Square",status = T,start=0.0,stop=1.5,dom=1)
gene5 <- sgene("Length",            0.5,status = T,start=0.0,stop=1.5,dom=1)
gene6 <- sgene("Diameter",          0.2,status = T,start=0.0,stop=1.5,dom=1)

group1 <- rbind(gene1,gene2,gene3,gene4,gene5,gene6)

genetostlfile("~/Desktop/stl/gene2.stl",group1,runlim=10)

```





